(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{28:function(e,t,a){},34:function(e,t,a){e.exports=a(49)},43:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),i=a(32),o=a(14),s=(a(43),a(13)),u=a(30),h=a(31),m=a(10),d=a(15),p=a.n(d),b=a(19);var v=function(e){return{type:"ADD_EXPENSES",payload:e}},f={user:{email:""}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_ACTION":return Object(m.a)(Object(m.a)({},e),{},{email:t.payload});default:return e}},g=a(33),y={currencies:[],expenses:[]},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CURRENCIES":return Object(m.a)(Object(m.a)({},e),{},{currencies:t.payload});case"ADD_EXPENSES":return Object(m.a)(Object(m.a)({},e),{},{expenses:[].concat(Object(g.a)(e.expenses),[Object(m.a)({id:e.expenses.length},t.payload)])});default:return e}},C=Object(s.combineReducers)({user:E,wallet:j}),O=Object(s.createStore)(C,Object(u.composeWithDevTools)(Object(s.applyMiddleware)(h.a))),w=a(2),k=a(17),x=a(6),N=a(7),S=a(12),D=a(9),R=a(8),T=(a(45),function(e){Object(D.a)(a,e);var t=Object(R.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).state={email:"",password:""},e.handleChange=e.handleChange.bind(Object(S.a)(e)),e.validEmail=e.validEmail.bind(Object(S.a)(e)),e.handleClick=e.handleClick.bind(Object(S.a)(e)),e}return Object(N.a)(a,[{key:"handleChange",value:function(e){var t=e.target;this.setState(Object(k.a)({},t.name,t.value))}},{key:"validEmail",value:function(){var e=this.state,t=e.email,a=e.password;return!(t.match(/^\w+([\\.-]?\w+)*@\w+([\\.-]?\w+)*(\.\w{2,3})+$/)&&a.length>=6)}},{key:"handleClick",value:function(){var e=this.state.email,t=this.props,a=t.userLogin,n=t.history;a(e),n.push("/carteira")}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return r.a.createElement("div",{className:"walletLogin"},r.a.createElement("img",{src:"https://image.flaticon.com/icons/png/512/218/218390.png",alt:"\xedcone da carteira",width:"100px"}),r.a.createElement("h1",null,"Login"),r.a.createElement("form",{id:"form"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"email",className:"email"},r.a.createElement("input",{className:"form-control",name:"email",type:"email",placeholder:"Email",value:t,"data-testid":"email-input",onChange:this.handleChange}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password",className:"password"},r.a.createElement("input",{className:"form-control",name:"password",type:"password",placeholder:"Senha",value:a,"data-testid":"password-input",onChange:this.handleChange}),r.a.createElement("p",null,"*Senha com no m\xednimo 6 carac."))),r.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:this.validEmail(),onClick:this.handleClick},"Entrar")))}}]),a}(r.a.Component)),A=Object(o.b)(null,(function(e){return{userLogin:function(t){return e(function(e){return{type:"USER_ACTION",payload:e}}(t))}}}))(T),L=(a(46),function(e){Object(D.a)(a,e);var t=Object(R.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.expenses.reduce((function(e,t){return e+t.value*t.exchangeRates[t.currency].ask}),0);return r.a.createElement("header",null,r.a.createElement("img",{alt:"\xcdcone Carteira",src:"https://image.flaticon.com/icons/png/512/218/218390.png"}),r.a.createElement("h2",{"data-testid":"email-field",className:"calcCurrency"},"Email:"," ",t.email),r.a.createElement("p",{"data-testid":"total-field",className:"calcCurrency"},"Despesa Total: R$"," ",a),r.a.createElement("p",{"data-testid":"header-currency-field",className:"calcCurrency"},"BRL"))}}]),a}(n.Component)),_=Object(o.b)((function(e){return{user:e.user,expenses:e.wallet.expenses}}),null)(L),I=(a(28),function(e){Object(D.a)(a,e);var t=Object(R.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.name,n=e.type,c=e.id,l=e.onChange,i=e.value;return r.a.createElement("label",{htmlFor:c,className:"expense"},t," ",r.a.createElement("input",{id:c,type:n,value:i,onChange:l,name:a,className:"form-control"}))}}]),a}(n.Component)),U=function(e){Object(D.a)(a,e);var t=Object(R.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.options,n=e.id,c=e.onChange,l=e.value;return r.a.createElement("label",{htmlFor:n,className:"selectExpense"},t," ",r.a.createElement("select",{id:n,value:l,onChange:c,className:"select"},a.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))}}]),a}(n.Component);U.defaultProps={value:""};var F=U,M=["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"],B=["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"],P=function(e){Object(D.a)(a,e);var t=Object(R.a)(a);function a(){var e;return Object(x.a)(this,a),(e=t.call(this)).state={value:"",description:"",currency:"",method:"",tag:""},e.handleChange=e.handleChange.bind(Object(S.a)(e)),e.handleClick=e.handleClick.bind(Object(S.a)(e)),e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.loadingCurrencies)()}},{key:"handleChange",value:function(e){var t=e.target;this.setState(Object(k.a)({},t.id,t.value))}},{key:"handleClick",value:function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n,r,c,l,i,o,s,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state,n=a.value,r=a.description,c=a.currency,l=a.method,i=a.tag,o=this.props.getExpense,t.preventDefault(),e.next=5,fetch("https://economia.awesomeapi.com.br/json/all");case 5:return s=e.sent,e.next=8,s.json();case 8:u=e.sent,o({value:n,description:r,currency:c,method:l,tag:i,exchangeRates:u});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.currencies,t=this.state,a=t.value,n=t.description,c=t.currency,l=t.method,i=t.tag;return r.a.createElement("form",{className:"addExpense"},r.a.createElement(I,{label:"Valor:",name:"value",id:"value",type:"text",onChange:this.handleChange,value:a}),r.a.createElement(I,{label:"Descri\xe7\xe3o:",name:"description",id:"description",type:"text",value:n,onChange:this.handleChange}),r.a.createElement(F,{label:"Moeda:",name:"currency",id:"currency",options:e,value:c,onChange:this.handleChange}),r.a.createElement(F,{label:"M\xe9todo de pagamento:",id:"method",options:M,value:l,onChange:this.handleChange}),r.a.createElement(F,{label:"Tag:",id:"tag",options:B,value:i,onChange:this.handleChange}),r.a.createElement("button",{type:"submit",onClick:this.handleClick}," Adicionar despesa "))}}]),a}(n.Component),W=Object(o.b)((function(e){return{currencies:e.wallet.currencies}}),(function(e){return{loadingCurrencies:function(){return e(function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,r=Object.keys(n).filter((function(e){return"USDT"!==e})),t({type:"GET_CURRENCIES",payload:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getExpense:function(t){return e(v(t))}}}))(P),$=function(e){Object(D.a)(a,e);var t=Object(R.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_,null),r.a.createElement(W,null))}}]),a}(r.a.Component);a(47);var G=function(){return r.a.createElement("div",null,r.a.createElement(w.c,null,r.a.createElement(w.a,{exact:!0,path:"/",component:A}),r.a.createElement(w.a,{path:"/carteira",component:$})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(o.a,{store:O},r.a.createElement(i.a,{basename:"/trybewallet"},r.a.createElement(G,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.1e9290c9.chunk.js.map